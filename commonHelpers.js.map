{"version":3,"file":"commonHelpers.js","sources":["../src/js/vars.js","../src/js/pixaby-api.js","../src/js/render-functions.js","../src/js/up-button.js","../src/main.js"],"sourcesContent":["export const refs = {\n    loadMoreButtonEl: document.querySelector('.load-more'),\n    galleryWrapper: document.querySelector('.gallery'),\n    formEl: document.querySelector('form#search-form'),\n    inputEl: document.querySelector('input[type=\"text\"]'),\n}","export default class FetchImage {\n    constructor() {\n        this.page = 1;\n        this._searchQuery = '';\n    }\n\n    getImage(element) {\n\n        const API_KEY = '36626377-ec15308a2cdcc9d1051736749';\n        const params = new URLSearchParams({\n            key: `${API_KEY}`,\n            q: `${element}`,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: 'true',\n        })\n\n        const url = `https://pixabay.com/api/?${params}`;\n\n        return fetch(url)\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('Failed to fetch');\n                }\n                return response.json();\n            })\n            .then(data => data)\n            .catch(error => {\n                console.error('Error in fetching data:', error)\n                return null\n            })\n    }\n\n    get fetchedData() {\n        return this._searchQuery;\n    }\n\n    set fetchedData(string) {\n        this._searchQuery = string;\n    }\n\n}","export default function createMarkUp(data) {\n    const HTMLMarkUp = data.map((el) => {\n        return `\n        <div class=\"photo-card\">\n            <a class=\"gallery__item\" href=\"${el.largeImageURL}\">\n                    <img\n                    class=\"photo\"\n                    src=\"${el.webformatURL}\"\n                    loading=\"lazy\"\n                    alt=\"${el.tags}\"\n                />\n            </a>\n            <div class=\"info\">\n                <p class=\"info-item\">\n                <b>Likes: ${el.likes}</b>\n                </p>\n                <p class=\"info-item\">\n                <b>Views: ${el.views}</b>\n                </p>\n                <p class=\"info-item\">\n                <b>Comments : ${el.comments}</b>\n                </p>\n                <p class=\"info-item\">\n                <b>Downloads : ${el.downloads}</b>\n                </p>\n            </div>\n        </div>\n    `\n    }).join('')\n\n    return HTMLMarkUp;\n}","export default function upButton() {\n\n    let btnOpn = document.querySelector(\".button-up\");\n\n    window.onscroll = () => {\n        if (window.scrollY > 400) {\n            btnOpn.classList.remove(\"button-up-hidden\");\n        } else if (window.scrollY < 400) {\n            btnOpn.classList.add(\"button-up-hidden\");\n        }\n    };\n\n    btnOpn.addEventListener('click', () => { window.scrollTo(0, 0); })\n\n    return\n}","import { refs } from './js/vars.js';\nimport FetchImage from './js/pixaby-api.js';\nimport createMarkUp from './js/render-functions.js';\nimport upButton from './js/up-button.js';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst { loadMoreButtonEl, galleryWrapper, formEl, inputEl } = refs;\nconst fetchImg = new FetchImage()\nconst gallerySimpleLightbox = new SimpleLightbox('.gallery a');\n\ninputEl.addEventListener('input', (e) => {\n    fetchImg.fetchedData = e.target.value;\n})\n\nformEl.addEventListener('submit', onformEl)\n\nfunction onformEl(e) {\n    e.preventDefault();\n\n    fetchImg.query = e.currentTarget.elements.searchQuery.value.trim();\n\n    inputEl.blur()\n\n    if (fetchImg.query === '') {\n        iziToast.info({\n            message: 'Please, type something.'\n        });\n        e.target.reset();\n        clearHTML();\n        return\n    }\n\n    fetchImg.getImage(fetchImg.fetchedData)\n        .then(data => {\n            clearHTML()\n            if (!data || !data.hits || data.hits.length === 0) {\n                iziToast.info({\n                    message: 'There are no images matching your search query. Please try again.'\n                });\n                loadMoreButtonEl.classList.add('is-hidden');\n                clearHTML();\n                return;\n            }\n\n            iziToast.success({\n                message: `Hooray! We found ${data.totalHits} images.`,\n            });\n\n            galleryWrapper.insertAdjacentHTML('beforeend', createMarkUp(data.hits));\n            gallerySimpleLightbox.refresh();\n        })\n        .catch(error => {\n            console.error('Faild to fetch:', error)\n        })\n\n}\n\nfunction clearHTML() {\n    galleryWrapper.innerHTML = '';\n}\n\nupButton();"],"names":["refs","FetchImage","element","API_KEY","url","response","data","error","string","createMarkUp","el","upButton","btnOpn","loadMoreButtonEl","galleryWrapper","formEl","inputEl","fetchImg","gallerySimpleLightbox","SimpleLightbox","e","onformEl","iziToast","clearHTML"],"mappings":"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"}